# How to dynamically generate a list of involved users

In this example you can see how to build up a list of users in realtionship to the item field values. If an item is mared as "IsCritical" the audience will grow. At the end I save the involved people in a field to inform the author about this persons.

´´´
$Audience = ''
$Audience = $Audience + $config['user.AlwaysInvolved']

$Body = (Invoke-KFTemplate -template $config["tpl.Mail.NewItem"])
Send-KFMail -Body $Body -Subject "Workflow: A new item was added" -Addresses $Audience  -isHTMLMail

if($item['IsCritical'] -eq $true) {
    $Audience = $Audience + $config['user.IsCritical']
    $Body = (Invoke-KFTemplate -template $config["tpl.Mail.CriticalItem"])
    Send-KFMail -Body $Body -Subject "Workflow: Attention something is critical" -Addresses  "[[user.IsCritical]]" -isHTMLMail
}

$item['InvolvedUsers'] = $Audience
$item.update()
´´´
